{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/lib/api.ts"],"sourcesContent":["import type {\r\n  Problem,\r\n  TopicsResponse,\r\n  Member,\r\n  SyncResult,\r\n  SyncAllResult,\r\n  LCSyncResult,\r\n  GraphMeta,\r\n  GraphNeighbor,\r\n  CuratedSubgraph,\r\n  CosmosData,\r\n  ComposeResponse,\r\n  VirtualContest,\r\n  ContestCreatePayload,\r\n  ContestUpdatePayload,\r\n  TrendsResponse,\r\n  CFContestInfo,\r\n  UpsolveQueueResponse,\r\n  UpsolveStatsResponse,\r\n  RecommendationsResponse,\r\n  ReviewTopicsResponse,\r\n  ReviewStatsResponse,\r\n  RegionalsResponse,\r\n  RegionalRecommendationsResponse,\r\n  RegionalContest,\r\n  Editorial,\r\n  BulkEditorialsResponse,\r\n  LeaderboardResponse,\r\n  WeeklySummaryResponse,\r\n  CustomTag,\r\n  ProblemNote,\r\n  TopicJournal,\r\n  NoteRecommendation,\r\n  CustomJournalTopic,\r\n  JournalEntryWithMember,\r\n  SolveQualityResponse,\r\n  ComboStats,\r\n  ComboRanking,\r\n  SuggestResponse,\r\n  ComboTimelineResponse,\r\n} from \"./types\";\r\n\r\nasync function fetchJSON<T>(path: string, init?: RequestInit): Promise<T> {\r\n  const res = await fetch(path, init);\r\n  if (!res.ok) {\r\n    const text = await res.text().catch(() => \"Unknown error\");\r\n    throw new Error(`API error ${res.status}: ${text}`);\r\n  }\r\n  return res.json() as Promise<T>;\r\n}\r\n\r\n/** Split a problem ID like \"1A\" or \"1352C2\" into contestId + index for the graph API */\r\nexport function parseProblemId(id: string): {\r\n  contestId: number;\r\n  index: string;\r\n} {\r\n  const match = id.match(/^(\\d+)([A-Za-z]\\d*)$/);\r\n  if (!match) {\r\n    throw new Error(`Invalid problem ID format: ${id}`);\r\n  }\r\n  return { contestId: Number(match[1]), index: match[2] };\r\n}\r\n\r\nexport const api = {\r\n  health: () => fetchJSON<{ status: string }>(\"/api/health\"),\r\n\r\n  getProblems: () => fetchJSON<Problem[]>(\"/api/problems/\"),\r\n\r\n  getTopics: () => fetchJSON<TopicsResponse>(\"/api/problems/topics\"),\r\n\r\n  getTeam: () => fetchJSON<Member[]>(\"/api/team/\"),\r\n\r\n  getMember: (id: number) => fetchJSON<Member>(`/api/team/${id}`),\r\n\r\n  updateMember: (id: number, data: { name?: string; cf_handle?: string; lc_handle?: string }) =>\r\n    fetchJSON<Member>(`/api/team/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  syncMember: (id: number) =>\r\n    fetchJSON<SyncResult>(`/api/team/${id}/sync`, { method: \"POST\" }),\r\n\r\n  syncAll: () =>\r\n    fetchJSON<SyncAllResult[]>(\"/api/team/sync-all\", { method: \"POST\" }),\r\n\r\n  syncMemberLC: (id: number) =>\r\n    fetchJSON<LCSyncResult>(`/api/team/${id}/sync-lc`, { method: \"POST\" }),\r\n\r\n  syncAllLC: () =>\r\n    fetchJSON<LCSyncResult[]>(\"/api/team/sync-all-lc\", { method: \"POST\" }),\r\n\r\n  getGraphMeta: () => fetchJSON<GraphMeta>(\"/api/graph/\"),\r\n\r\n  getCuratedSubgraph: () =>\r\n    fetchJSON<CuratedSubgraph>(\"/api/graph/curated-subgraph\"),\r\n\r\n  getNeighbors: (contestId: number, index: string, limit = 10) =>\r\n    fetchJSON<GraphNeighbor[]>(\r\n      `/api/graph/neighbors/${contestId}/${index}?limit=${limit}`,\r\n    ),\r\n\r\n  getCosmosData: () => fetchJSON<CosmosData>(\"/api/graph/cosmos\"),\r\n\r\n  compose: () =>\r\n    fetchJSON<ComposeResponse>(\"/api/team/compose\", { method: \"POST\" }),\r\n\r\n  getContests: () => fetchJSON<VirtualContest[]>(\"/api/contests/\"),\r\n\r\n  getContest: (id: string) => fetchJSON<VirtualContest>(`/api/contests/${id}`),\r\n\r\n  createContest: (data: ContestCreatePayload) =>\r\n    fetchJSON<VirtualContest>(\"/api/contests/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  updateContest: (id: string, data: ContestUpdatePayload) =>\r\n    fetchJSON<VirtualContest>(`/api/contests/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  deleteContest: (id: string) =>\r\n    fetchJSON<{ status: string; id: string }>(`/api/contests/${id}`, {\r\n      method: \"DELETE\",\r\n    }),\r\n\r\n  getContestTrends: () => fetchJSON<TrendsResponse>(\"/api/contests/trends\"),\r\n\r\n  getCFContestInfo: (contestId: number) =>\r\n    fetchJSON<CFContestInfo>(`/api/codeforces/contest/${contestId}`),\r\n\r\n  getUpsolveQueue: () => fetchJSON<UpsolveQueueResponse>(\"/api/upsolve/\"),\r\n\r\n  getUpsolveStats: () => fetchJSON<UpsolveStatsResponse>(\"/api/upsolve/stats\"),\r\n\r\n  dismissUpsolve: (contestId: string, problemIndex: string) =>\r\n    fetchJSON<{ status: string }>(\"/api/upsolve/dismiss\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ contest_id: contestId, problem_index: problemIndex }),\r\n    }),\r\n\r\n  undismissUpsolve: (contestId: string, problemIndex: string) =>\r\n    fetchJSON<{ status: string }>(\"/api/upsolve/undismiss\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ contest_id: contestId, problem_index: problemIndex }),\r\n    }),\r\n\r\n  getRecommendations: (\r\n    memberId: number,\r\n    options?: { seedProblem?: string; limit?: number; difficultyRange?: number }\r\n  ) => {\r\n    const params = new URLSearchParams();\r\n    if (options?.seedProblem) params.set(\"seed_problem\", options.seedProblem);\r\n    if (options?.limit) params.set(\"limit\", options.limit.toString());\r\n    if (options?.difficultyRange) params.set(\"difficulty_range\", options.difficultyRange.toString());\r\n\r\n    const query = params.toString();\r\n    return fetchJSON<RecommendationsResponse>(\r\n      `/api/recommendations/${memberId}${query ? `?${query}` : \"\"}`\r\n    );\r\n  },\r\n\r\n  getReviewTopics: (\r\n    memberId: number,\r\n    options?: { staleDays?: number; limit?: number }\r\n  ) => {\r\n    const params = new URLSearchParams();\r\n    if (options?.staleDays) params.set(\"stale_days\", options.staleDays.toString());\r\n    if (options?.limit) params.set(\"limit\", options.limit.toString());\r\n\r\n    const query = params.toString();\r\n    return fetchJSON<ReviewTopicsResponse>(\r\n      `/api/review/${memberId}${query ? `?${query}` : \"\"}`\r\n    );\r\n  },\r\n\r\n  getReviewStats: (memberId: number) =>\r\n    fetchJSON<ReviewStatsResponse>(`/api/review/${memberId}/stats`),\r\n\r\n  getRegionals: (options?: { limit?: number; forceRefresh?: boolean }) => {\r\n    const params = new URLSearchParams();\r\n    if (options?.limit) params.set(\"limit\", options.limit.toString());\r\n    if (options?.forceRefresh) params.set(\"force_refresh\", \"true\");\r\n\r\n    const query = params.toString();\r\n    return fetchJSON<RegionalsResponse>(\r\n      `/api/regionals/${query ? `?${query}` : \"\"}`\r\n    );\r\n  },\r\n\r\n  getRegionalRecommendations: (topN: number = 10) =>\r\n    fetchJSON<RegionalRecommendationsResponse>(\r\n      `/api/regionals/recommendations?top_n=${topN}`\r\n    ),\r\n\r\n  refreshRegionals: (limit: number = 50) =>\r\n    fetchJSON<{ message: string; metadata: any }>(\r\n      `/api/regionals/refresh?limit=${limit}`,\r\n      { method: \"POST\" }\r\n    ),\r\n\r\n  getRegionalContest: (contestId: number) =>\r\n    fetchJSON<RegionalContest>(`/api/regionals/contests/${contestId}`),\r\n\r\n  getEditorial: (problemId: string) =>\r\n    fetchJSON<Editorial>(`/api/editorials/${problemId}`),\r\n\r\n  getEditorialsBulk: (problemIds: string[], maxCount: number = 50) =>\r\n    fetchJSON<BulkEditorialsResponse>(\"/api/editorials/bulk\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ problem_ids: problemIds, max_count: maxCount }),\r\n    }),\r\n\r\n  getCachedEditorials: () =>\r\n    fetchJSON<{ editorials: Record<string, Editorial>; count: number }>(\r\n      \"/api/editorials/\"\r\n    ),\r\n\r\n  getLeaderboard: (weeks?: number) => {\r\n    const params = weeks ? `?weeks=${weeks}` : \"\";\r\n    return fetchJSON<LeaderboardResponse>(`/api/leaderboard/${params}`);\r\n  },\r\n\r\n  getWeeklySummary: (weekOffset?: number) => {\r\n    const params = weekOffset ? `?week_offset=${weekOffset}` : \"\";\r\n    return fetchJSON<WeeklySummaryResponse>(\r\n      `/api/leaderboard/weekly-summary${params}`\r\n    );\r\n  },\r\n\r\n  // --- Tags ---\r\n\r\n  getTags: () => fetchJSON<CustomTag[]>(\"/api/tags/\"),\r\n\r\n  createTag: (data: { name: string; color: string; created_by: number }) =>\r\n    fetchJSON<CustomTag>(\"/api/tags/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  updateTag: (tagId: string, data: { name?: string; color?: string }) =>\r\n    fetchJSON<CustomTag>(`/api/tags/${tagId}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  deleteTag: (tagId: string) =>\r\n    fetchJSON<{ status: string; id: string }>(`/api/tags/${tagId}`, {\r\n      method: \"DELETE\",\r\n    }),\r\n\r\n  getProblemTags: (problemId: string) =>\r\n    fetchJSON<CustomTag[]>(`/api/tags/problem/${problemId}`),\r\n\r\n  addProblemTags: (problemId: string, tagIds: string[]) =>\r\n    fetchJSON<{ status: string; problem_id: string; tag_count: number }>(\r\n      `/api/tags/problem/${problemId}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ tag_ids: tagIds }),\r\n      },\r\n    ),\r\n\r\n  removeProblemTag: (problemId: string, tagId: string) =>\r\n    fetchJSON<{ status: string }>(`/api/tags/problem/${problemId}/${tagId}`, {\r\n      method: \"DELETE\",\r\n    }),\r\n\r\n  getTagProblems: (tagId: string) =>\r\n    fetchJSON<string[]>(`/api/tags/by-tag/${tagId}`),\r\n\r\n  // --- Notes ---\r\n\r\n  getMemberNotes: (memberId: number) =>\r\n    fetchJSON<ProblemNote[]>(`/api/notes/member/${memberId}`),\r\n\r\n  getProblemNotes: (problemId: string) =>\r\n    fetchJSON<ProblemNote[]>(`/api/notes/problem/${problemId}`),\r\n\r\n  getMemberProblemNote: (memberId: number, problemId: string) =>\r\n    fetchJSON<ProblemNote | null>(\r\n      `/api/notes/member/${memberId}/problem/${problemId}`,\r\n    ),\r\n\r\n  saveNote: (data: { member_id: number; problem_id: string; content: string }) =>\r\n    fetchJSON<ProblemNote>(\"/api/notes/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  deleteNote: (noteId: string) =>\r\n    fetchJSON<{ status: string; id: string }>(`/api/notes/${noteId}`, {\r\n      method: \"DELETE\",\r\n    }),\r\n\r\n  getNoteRecommendations: (memberId: number, problemId: string, limit = 10) =>\r\n    fetchJSON<NoteRecommendation[]>(\r\n      `/api/notes/member/${memberId}/problem/${problemId}/recommend?limit=${limit}`,\r\n    ),\r\n\r\n  // --- Journals ---\r\n\r\n  getMemberJournals: (memberId: number) =>\r\n    fetchJSON<TopicJournal[]>(`/api/journals/member/${memberId}`),\r\n\r\n  getJournal: (memberId: number, topicId: string) =>\r\n    fetchJSON<TopicJournal | null>(\r\n      `/api/journals/member/${memberId}/topic/${topicId}`,\r\n    ),\r\n\r\n  addJournalEntry: (memberId: number, topicId: string, content: string) =>\r\n    fetchJSON<TopicJournal>(\r\n      `/api/journals/member/${memberId}/topic/${topicId}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ content }),\r\n      },\r\n    ),\r\n\r\n  editJournalEntry: (\r\n    memberId: number,\r\n    topicId: string,\r\n    entryId: string,\r\n    content: string,\r\n  ) =>\r\n    fetchJSON<TopicJournal>(\r\n      `/api/journals/member/${memberId}/topic/${topicId}/entry/${entryId}`,\r\n      {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ content }),\r\n      },\r\n    ),\r\n\r\n  deleteJournalEntry: (memberId: number, topicId: string, entryId: string) =>\r\n    fetchJSON<{ status: string; entry_id: string }>(\r\n      `/api/journals/member/${memberId}/topic/${topicId}/entry/${entryId}`,\r\n      { method: \"DELETE\" },\r\n    ),\r\n\r\n  getJournalRecommendations: (\r\n    memberId: number,\r\n    topicId: string,\r\n    limit = 10,\r\n  ) =>\r\n    fetchJSON<NoteRecommendation[]>(\r\n      `/api/journals/member/${memberId}/topic/${topicId}/recommend?limit=${limit}`,\r\n    ),\r\n\r\n  // --- Journal Custom Topics ---\r\n\r\n  getCustomJournalTopics: () =>\r\n    fetchJSON<CustomJournalTopic[]>(\"/api/journals/topics\"),\r\n\r\n  createCustomJournalTopic: (data: {\r\n    name: string;\r\n    icon: string;\r\n    created_by: number;\r\n  }) =>\r\n    fetchJSON<CustomJournalTopic>(\"/api/journals/topics\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  deleteCustomJournalTopic: (topicId: string) =>\r\n    fetchJSON<{ status: string; id: string }>(\r\n      `/api/journals/topics/${topicId}`,\r\n      { method: \"DELETE\" },\r\n    ),\r\n\r\n  // --- Journal All-Entries & Search ---\r\n\r\n  getTopicAllEntries: (topicId: string, memberId?: number) => {\r\n    const params = memberId !== undefined ? `?member_id=${memberId}` : \"\";\r\n    return fetchJSON<JournalEntryWithMember[]>(\r\n      `/api/journals/topic/${topicId}/all${params}`,\r\n    );\r\n  },\r\n\r\n  searchJournals: (\r\n    query: string,\r\n    options?: { memberId?: number; topicId?: string; limit?: number },\r\n  ) => {\r\n    const params = new URLSearchParams({ q: query });\r\n    if (options?.memberId !== undefined)\r\n      params.set(\"member_id\", options.memberId.toString());\r\n    if (options?.topicId) params.set(\"topic_id\", options.topicId);\r\n    if (options?.limit) params.set(\"limit\", options.limit.toString());\r\n    return fetchJSON<JournalEntryWithMember[]>(\r\n      `/api/journals/search?${params}`,\r\n    );\r\n  },\r\n\r\n  // --- Solve Quality ---\r\n\r\n  getSolveQuality: (memberId: number) =>\r\n    fetchJSON<SolveQualityResponse>(`/api/solve-quality/${memberId}`),\r\n\r\n  flagEditorial: (memberId: number, problemId: string, platform: \"cf\" | \"lc\") =>\r\n    fetchJSON<{ problem_id: string; platform: string; used_editorial: boolean; flagged_at: string | null }>(\r\n      `/api/solve-quality/${memberId}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ problem_id: problemId, used_editorial: true, platform }),\r\n      },\r\n    ),\r\n\r\n  unflagEditorial: (memberId: number, problemId: string) =>\r\n    fetchJSON<{ status: string; problem_id: string }>(\r\n      `/api/solve-quality/${memberId}/${problemId}`,\r\n      { method: \"DELETE\" },\r\n    ),\r\n\r\n  // --- Team Management ---\r\n\r\n  addMember: (data: { name: string; cf_handle?: string; lc_handle?: string }) =>\r\n    fetchJSON<Member>(\"/api/team/\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    }),\r\n\r\n  removeMember: (id: number) =>\r\n    fetchJSON<{ status: string; id: string }>(`/api/team/${id}`, {\r\n      method: \"DELETE\",\r\n    }),\r\n\r\n  toggleMemberActive: (id: number, active: boolean) =>\r\n    fetchJSON<Member>(`/api/team/${id}/active`, {\r\n      method: \"PATCH\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ active }),\r\n    }),\r\n\r\n  // --- Rotations ---\r\n\r\n  getRotationCombos: () =>\r\n    fetchJSON<ComboStats[]>(\"/api/rotations/combos\"),\r\n\r\n  getRotationSuggest: () =>\r\n    fetchJSON<SuggestResponse>(\"/api/rotations/suggest\"),\r\n\r\n  getRotationRankings: () =>\r\n    fetchJSON<ComboRanking[]>(\"/api/rotations/rankings\"),\r\n\r\n  getRotationTimeline: () =>\r\n    fetchJSON<ComboTimelineResponse>(\"/api/rotations/timeline\"),\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/lib/hooks.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\nimport { api } from \"./api\";\r\nimport type {\r\n  ComboRanking,\r\n  ComboTimelineResponse,\r\n  CustomJournalTopic,\r\n  CustomTag,\r\n  LeaderboardResponse,\r\n  Member,\r\n  ProblemNote,\r\n  Problem,\r\n  SuggestResponse,\r\n  TopicJournal,\r\n  TopicsResponse,\r\n  UpsolveQueueResponse,\r\n  UpsolveStatsResponse,\r\n  VirtualContest,\r\n} from \"./types\";\r\n\r\nexport function useProblems() {\r\n  const [problems, setProblems] = useState<Problem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getProblems()\r\n      .then(setProblems)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  return { problems, loading, error };\r\n}\r\n\r\nexport function useTopics() {\r\n  const [topics, setTopics] = useState<TopicsResponse | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getTopics()\r\n      .then(setTopics)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  return { topics, loading, error };\r\n}\r\n\r\nexport function useTeam() {\r\n  const [members, setMembers] = useState<Member[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchTeam = useCallback(() => {\r\n    setLoading(true);\r\n    api\r\n      .getTeam()\r\n      .then(setMembers)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchTeam();\r\n  }, [fetchTeam]);\r\n\r\n  return { members, loading, error, refetch: fetchTeam };\r\n}\r\n\r\nexport function useContests() {\r\n  const [contests, setContests] = useState<VirtualContest[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchContests = useCallback(() => {\r\n    setLoading(true);\r\n    api\r\n      .getContests()\r\n      .then(setContests)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchContests();\r\n  }, [fetchContests]);\r\n\r\n  return { contests, loading, error, refetch: fetchContests };\r\n}\r\n\r\nexport function useUpsolve() {\r\n  const [queue, setQueue] = useState<UpsolveQueueResponse | null>(null);\r\n  const [stats, setStats] = useState<UpsolveStatsResponse | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchUpsolve = useCallback(() => {\r\n    setLoading(true);\r\n    Promise.all([api.getUpsolveQueue(), api.getUpsolveStats()])\r\n      .then(([q, s]) => {\r\n        setQueue(q);\r\n        setStats(s);\r\n      })\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchUpsolve();\r\n  }, [fetchUpsolve]);\r\n\r\n  return { queue, stats, loading, error, refetch: fetchUpsolve };\r\n}\r\n\r\nexport function useLeaderboard() {\r\n  const [data, setData] = useState<LeaderboardResponse | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchLeaderboard = useCallback(() => {\r\n    setLoading(true);\r\n    api\r\n      .getLeaderboard()\r\n      .then(setData)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchLeaderboard();\r\n  }, [fetchLeaderboard]);\r\n\r\n  return { data, loading, error, refetch: fetchLeaderboard };\r\n}\r\n\r\nexport function useTags() {\r\n  const [tags, setTags] = useState<CustomTag[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchTags = useCallback(() => {\r\n    setLoading(true);\r\n    api\r\n      .getTags()\r\n      .then(setTags)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchTags();\r\n  }, [fetchTags]);\r\n\r\n  return { tags, loading, error, refetch: fetchTags };\r\n}\r\n\r\nexport function useMemberNotes(memberId: number | null) {\r\n  const [notes, setNotes] = useState<ProblemNote[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchNotes = useCallback(() => {\r\n    if (memberId === null) {\r\n      setNotes([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    api\r\n      .getMemberNotes(memberId)\r\n      .then(setNotes)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, [memberId]);\r\n\r\n  useEffect(() => {\r\n    fetchNotes();\r\n  }, [fetchNotes]);\r\n\r\n  return { notes, loading, error, refetch: fetchNotes };\r\n}\r\n\r\nexport function useMemberJournals(memberId: number | null) {\r\n  const [journals, setJournals] = useState<TopicJournal[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchJournals = useCallback(() => {\r\n    if (memberId === null) {\r\n      setJournals([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    api\r\n      .getMemberJournals(memberId)\r\n      .then(setJournals)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, [memberId]);\r\n\r\n  useEffect(() => {\r\n    fetchJournals();\r\n  }, [fetchJournals]);\r\n\r\n  return { journals, loading, error, refetch: fetchJournals };\r\n}\r\n\r\nexport function useRotations() {\r\n  const [rankings, setRankings] = useState<ComboRanking[]>([]);\r\n  const [suggestion, setSuggestion] = useState<SuggestResponse | null>(null);\r\n  const [timeline, setTimeline] = useState<ComboTimelineResponse | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchAll = useCallback(() => {\r\n    setLoading(true);\r\n    Promise.all([\r\n      api.getRotationRankings(),\r\n      api.getRotationSuggest(),\r\n      api.getRotationTimeline(),\r\n    ])\r\n      .then(([r, s, t]) => {\r\n        setRankings(r);\r\n        setSuggestion(s);\r\n        setTimeline(t);\r\n      })\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchAll();\r\n  }, [fetchAll]);\r\n\r\n  return { rankings, suggestion, timeline, loading, error, refetch: fetchAll };\r\n}\r\n\r\nexport function useCustomJournalTopics() {\r\n  const [topics, setTopics] = useState<CustomJournalTopic[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchTopics = useCallback(() => {\r\n    setLoading(true);\r\n    api\r\n      .getCustomJournalTopics()\r\n      .then(setTopics)\r\n      .catch((e: Error) => setError(e.message))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchTopics();\r\n  }, [fetchTopics]);\r\n\r\n  return { topics, loading, error, refetch: fetchTopics };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/components/stat-box.tsx"],"sourcesContent":["interface StatBoxProps {\n  value: string | number;\n  label: string;\n  color?: string;\n}\n\nexport function StatBox({ value, label, color = \"#e0aa0f\" }: StatBoxProps) {\n  return (\n    <div className=\"rounded-lg border border-border bg-surface p-4\">\n      <div className=\"text-2xl font-bold\" style={{ color }}>\n        {value}\n      </div>\n      <div className=\"mt-1 text-xs text-muted\">{label}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,SAAS,EAAgB;IACvE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;gBAAqB,OAAO;oBAAE;gBAAM;0BAChD;;;;;;0BAEH,8OAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;;;AAGhD"}},
    {"offset": {"line": 608, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/components/progress-bar.tsx"],"sourcesContent":["interface ProgressBarProps {\n  percentage: number;\n  color?: string;\n  height?: number;\n}\n\nexport function ProgressBar({\n  percentage,\n  color = \"#e0aa0f\",\n  height = 4,\n}: ProgressBarProps) {\n  return (\n    <div\n      className=\"w-full overflow-hidden rounded-full bg-surface-hover\"\n      style={{ height }}\n    >\n      <div\n        className=\"rounded-full transition-[width] duration-500 ease-out\"\n        style={{\n          width: `${Math.min(100, Math.max(0, percentage))}%`,\n          height: \"100%\",\n          background: color,\n        }}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,YAAY,EAC1B,UAAU,EACV,QAAQ,SAAS,EACjB,SAAS,CAAC,EACO;IACjB,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YAAE;QAAO;kBAEhB,cAAA,8OAAC;YACC,WAAU;YACV,OAAO;gBACL,OAAO,GAAG,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,aAAa,CAAC,CAAC;gBACnD,QAAQ;gBACR,YAAY;YACd;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/components/topic-card.tsx"],"sourcesContent":["import type { Topic, TopicStats } from \"@/lib/types\";\r\nimport { ProgressBar } from \"./progress-bar\";\r\n\r\ninterface TopicCardProps {\r\n  topicKey: string;\r\n  topic: Topic;\r\n  stats: TopicStats;\r\n  tierColor: string;\r\n  tierBg: string;\r\n  tierLabel: string;\r\n  /** Skill tree mode: shows prereqs and lock state */\r\n  variant?: \"dashboard\" | \"skill-tree\";\r\n  prereqsMet?: boolean;\r\n  prereqIcons?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport function TopicCard({\r\n  topic,\r\n  stats,\r\n  tierColor,\r\n  tierBg,\r\n  tierLabel,\r\n  variant = \"dashboard\",\r\n  prereqsMet = true,\r\n  prereqIcons,\r\n  onClick,\r\n}: TopicCardProps) {\r\n  const pct = stats.total > 0 ? Math.round((stats.solved / stats.total) * 100) : 0;\r\n  const isLocked = variant === \"skill-tree\" && !prereqsMet && topic.tier > 0;\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className=\"cursor-pointer rounded-[10px] border border-border p-4 text-left transition-all hover:-translate-y-0.5 hover:border-border-hover hover:shadow-[0_8px_24px_rgba(0,0,0,0.3)]\"\r\n      style={{\r\n        background: tierBg,\r\n        opacity: isLocked ? 0.5 : 1,\r\n        borderColor: pct === 100 ? tierColor + \"60\" : undefined,\r\n      }}\r\n    >\r\n      {variant === \"skill-tree\" && prereqIcons && (\r\n        <div className=\"mb-1.5 text-[10px] text-dim\">\r\n          &larr; {prereqIcons}\r\n        </div>\r\n      )}\r\n      <div className=\"mb-1 flex items-center gap-2\">\r\n        <span className=\"text-base\">{topic.icon}</span>\r\n        <span className=\"text-[13px] font-medium text-foreground\">\r\n          {topic.name}\r\n        </span>\r\n      </div>\r\n      <div className=\"mb-2 flex items-center gap-2\">\r\n        <span\r\n          className=\"rounded px-1.5 py-0.5 text-[10px] font-semibold uppercase\"\r\n          style={{ color: tierColor, background: tierBg }}\r\n        >\r\n          {tierLabel}\r\n        </span>\r\n        <span className=\"text-[11px] text-muted\">\r\n          {stats.solved}/{stats.total}\r\n        </span>\r\n        {pct > 0 && (\r\n          <span className=\"text-[11px] font-medium\" style={{ color: tierColor }}>\r\n            {pct}%\r\n          </span>\r\n        )}\r\n      </div>\r\n      <ProgressBar percentage={pct} color={tierColor} />\r\n      {isLocked && (\r\n        <div className=\"mt-1 text-[9px] text-danger\">\r\n          &#128274; Complete prereqs first\r\n        </div>\r\n      )}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAgBO,SAAS,UAAU,EACxB,KAAK,EACL,KAAK,EACL,SAAS,EACT,MAAM,EACN,SAAS,EACT,UAAU,WAAW,EACrB,aAAa,IAAI,EACjB,WAAW,EACX,OAAO,EACQ;IACf,MAAM,MAAM,MAAM,KAAK,GAAG,IAAI,KAAK,KAAK,CAAC,AAAC,MAAM,MAAM,GAAG,MAAM,KAAK,GAAI,OAAO;IAC/E,MAAM,WAAW,YAAY,gBAAgB,CAAC,cAAc,MAAM,IAAI,GAAG;IAEzE,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;QACV,OAAO;YACL,YAAY;YACZ,SAAS,WAAW,MAAM;YAC1B,aAAa,QAAQ,MAAM,YAAY,OAAO;QAChD;;YAEC,YAAY,gBAAgB,6BAC3B,8OAAC;gBAAI,WAAU;;oBAA8B;oBACnC;;;;;;;0BAGZ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAa,MAAM,IAAI;;;;;;kCACvC,8OAAC;wBAAK,WAAU;kCACb,MAAM,IAAI;;;;;;;;;;;;0BAGf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,OAAO;4BAAW,YAAY;wBAAO;kCAE7C;;;;;;kCAEH,8OAAC;wBAAK,WAAU;;4BACb,MAAM,MAAM;4BAAC;4BAAE,MAAM,KAAK;;;;;;;oBAE5B,MAAM,mBACL,8OAAC;wBAAK,WAAU;wBAA0B,OAAO;4BAAE,OAAO;wBAAU;;4BACjE;4BAAI;;;;;;;;;;;;;0BAIX,8OAAC,6IAAW;gBAAC,YAAY;gBAAK,OAAO;;;;;;YACpC,0BACC,8OAAC;gBAAI,WAAU;0BAA8B;;;;;;;;;;;;AAMrD"}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/lib/constants.ts"],"sourcesContent":["import type { MonthPlan } from \"./types\";\r\n\r\nexport const MONTHS_PLAN: MonthPlan[] = [\r\n  {\r\n    month: \"Feb\\u2013Mar\",\r\n    focus: \"Foundations\",\r\n    topics: [\"implementation\", \"math_basic\", \"sorting\"],\r\n    goal: \"Solve Div2 A/B consistently in < 10 min each\",\r\n  },\r\n  {\r\n    month: \"Mar\\u2013Apr\",\r\n    focus: \"Core Algorithms I\",\r\n    topics: [\"binary_search\", \"two_pointers\", \"prefix_sums\", \"number_theory\"],\r\n    goal: \"Comfortable with Div2 C, start solving some D\",\r\n  },\r\n  {\r\n    month: \"Apr\\u2013May\",\r\n    focus: \"Core Algorithms II\",\r\n    topics: [\"bfs_dfs\", \"dp_basic\"],\r\n    goal: \"Graph traversal & basic DP on autopilot\",\r\n  },\r\n  {\r\n    month: \"May\\u2013Jun\",\r\n    focus: \"Intermediate I\",\r\n    topics: [\"shortest_paths\", \"dsu\", \"topo_sort\", \"trees\"],\r\n    goal: \"Solve Div2 D consistently, attempt E\",\r\n  },\r\n  {\r\n    month: \"Jun\\u2013Jul\",\r\n    focus: \"Intermediate II\",\r\n    topics: [\"strings\", \"dp_intermediate\", \"combinatorics\"],\r\n    goal: \"Handle most Div2 D/E problems\",\r\n  },\r\n  {\r\n    month: \"Jul\\u2013Aug\",\r\n    focus: \"Advanced\",\r\n    topics: [\"seg_tree\", \"game_theory\", \"graphs_advanced\", \"geometry\"],\r\n    goal: \"Competitive at regional level\",\r\n  },\r\n  {\r\n    month: \"Aug\\u2013Sep\",\r\n    focus: \"Polish & Team Strategy\",\r\n    topics: [\"dp_advanced\", \"advanced\"],\r\n    goal: \"Virtual contests, team coordination, speed\",\r\n  },\r\n];\r\n\r\n/** Rating-based color coding matching the monolith's tier system */\r\nexport function ratingColor(rating: number): string {\r\n  if (rating <= 1200) return \"#22c55e\";\r\n  if (rating <= 1600) return \"#3b82f6\";\r\n  if (rating <= 2000) return \"#a855f7\";\r\n  if (rating <= 2400) return \"#f59e0b\";\r\n  return \"#ef4444\";\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,cAA2B;IACtC;QACE,OAAO;QACP,OAAO;QACP,QAAQ;YAAC;YAAkB;YAAc;SAAU;QACnD,MAAM;IACR;IACA;QACE,OAAO;QACP,OAAO;QACP,QAAQ;YAAC;YAAiB;YAAgB;YAAe;SAAgB;QACzE,MAAM;IACR;IACA;QACE,OAAO;QACP,OAAO;QACP,QAAQ;YAAC;YAAW;SAAW;QAC/B,MAAM;IACR;IACA;QACE,OAAO;QACP,OAAO;QACP,QAAQ;YAAC;YAAkB;YAAO;YAAa;SAAQ;QACvD,MAAM;IACR;IACA;QACE,OAAO;QACP,OAAO;QACP,QAAQ;YAAC;YAAW;YAAmB;SAAgB;QACvD,MAAM;IACR;IACA;QACE,OAAO;QACP,OAAO;QACP,QAAQ;YAAC;YAAY;YAAe;YAAmB;SAAW;QAClE,MAAM;IACR;IACA;QACE,OAAO;QACP,OAAO;QACP,QAAQ;YAAC;YAAe;SAAW;QACnC,MAAM;IACR;CACD;AAGM,SAAS,YAAY,MAAc;IACxC,IAAI,UAAU,MAAM,OAAO;IAC3B,IAAI,UAAU,MAAM,OAAO;IAC3B,IAAI,UAAU,MAAM,OAAO;IAC3B,IAAI,UAAU,MAAM,OAAO;IAC3B,OAAO;AACT"}},
    {"offset": {"line": 862, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/components/rating-badge.tsx"],"sourcesContent":["import { ratingColor } from \"@/lib/constants\";\r\n\r\ninterface RatingBadgeProps {\r\n  rating: number;\r\n}\r\n\r\nexport function RatingBadge({ rating }: RatingBadgeProps) {\r\n  const color = ratingColor(rating);\r\n  return (\r\n    <span\r\n      className=\"inline-block rounded px-1.5 py-0.5 text-[11px] font-semibold\"\r\n      style={{ color, background: color + \"18\" }}\r\n    >\r\n      {rating}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAMO,SAAS,YAAY,EAAE,MAAM,EAAoB;IACtD,MAAM,QAAQ,IAAA,+HAAW,EAAC;IAC1B,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YAAE;YAAO,YAAY,QAAQ;QAAK;kBAExC;;;;;;AAGP"}},
    {"offset": {"line": 889, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/components/recommendations-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { api } from \"@/lib/api\";\nimport type { RecommendationsResponse, Member } from \"@/lib/types\";\nimport { RatingBadge } from \"./rating-badge\";\n\ninterface RecommendationsWidgetProps {\n  members: Member[];\n}\n\nexport function RecommendationsWidget({ members }: RecommendationsWidgetProps) {\n  const [recommendations, setRecommendations] =\n    useState<RecommendationsResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Find a member with some progress (prefer the one with most progress)\n  const activeMember = members.length > 0\n    ? members.reduce((best, m) => (m.solved_count > best.solved_count ? m : best), members[0])\n    : null;\n\n  useEffect(() => {\n    if (!activeMember) {\n      setLoading(false);\n      return;\n    }\n\n    const fetchRecs = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await api.getRecommendations(activeMember.id, { limit: 5 });\n        setRecommendations(data);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Failed to load\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRecs();\n  }, [activeMember]);\n\n  if (!activeMember) {\n    return null;\n  }\n\n  return (\n    <div className=\"rounded-lg border border-border bg-surface/50 p-6\">\n      <div className=\"mb-4 flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-[15px] font-semibold text-foreground\">\n            ðŸ’¡ Recommended for You\n          </h2>\n          <p className=\"mt-0.5 text-[12px] text-muted\">\n            Next problems for {recommendations?.member_name ?? activeMember.name}\n          </p>\n        </div>\n        <Link\n          href=\"/recommendations\"\n          className=\"rounded-md border border-accent-border bg-accent-dim px-3 py-1.5 text-[12px] text-accent transition-all hover:bg-accent hover:text-background\"\n        >\n          View All\n        </Link>\n      </div>\n\n      {loading && (\n        <div className=\"py-8 text-center text-muted\">\n          <span className=\"pulse-slow text-[13px]\">Loading...</span>\n        </div>\n      )}\n\n      {error && (\n        <div className=\"rounded border border-red-500/20 bg-red-500/5 p-3 text-[12px] text-red-400\">\n          {error}\n        </div>\n      )}\n\n      {!loading && !error && recommendations && (\n        <div className=\"space-y-2\">\n          {recommendations.recommendations.length === 0 ? (\n            <div className=\"py-8 text-center text-[13px] text-muted\">\n              No recommendations available yet. Solve more problems to get personalized suggestions.\n            </div>\n          ) : (\n            recommendations.recommendations.map((rec) => (\n              <div\n                key={rec.id}\n                className=\"flex items-center gap-3 rounded border border-transparent px-2 py-2 transition-all hover:border-border hover:bg-background\"\n              >\n                <RatingBadge rating={rec.rating} />\n                <a\n                  href={rec.url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"flex-1 text-[13px] text-foreground transition-colors hover:text-accent\"\n                >\n                  {rec.name}\n                </a>\n                <span className=\"text-[10px] text-muted\">{rec.topic}</span>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAYO,SAAS,sBAAsB,EAAE,OAAO,EAA8B;IAC3E,MAAM,CAAC,iBAAiB,mBAAmB,GACzC,IAAA,iNAAQ,EAAiC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,uEAAuE;IACvE,MAAM,eAAe,QAAQ,MAAM,GAAG,IAClC,QAAQ,MAAM,CAAC,CAAC,MAAM,IAAO,EAAE,YAAY,GAAG,KAAK,YAAY,GAAG,IAAI,MAAO,OAAO,CAAC,EAAE,IACvF;IAEJ,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,cAAc;YACjB,WAAW;YACX;QACF;QAEA,MAAM,YAAY;YAChB,WAAW;YACX,SAAS;YACT,IAAI;gBACF,MAAM,OAAO,MAAM,iHAAG,CAAC,kBAAkB,CAAC,aAAa,EAAE,EAAE;oBAAE,OAAO;gBAAE;gBACtE,mBAAmB;YACrB,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAChD,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAa;IAEjB,IAAI,CAAC,cAAc;QACjB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAA4C;;;;;;0CAG1D,8OAAC;gCAAE,WAAU;;oCAAgC;oCACxB,iBAAiB,eAAe,aAAa,IAAI;;;;;;;;;;;;;kCAGxE,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;YAKF,yBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BAAyB;;;;;;;;;;;YAI5C,uBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;YAIJ,CAAC,WAAW,CAAC,SAAS,iCACrB,8OAAC;gBAAI,WAAU;0BACZ,gBAAgB,eAAe,CAAC,MAAM,KAAK,kBAC1C,8OAAC;oBAAI,WAAU;8BAA0C;;;;;2BAIzD,gBAAgB,eAAe,CAAC,GAAG,CAAC,CAAC,oBACnC,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC,6IAAW;gCAAC,QAAQ,IAAI,MAAM;;;;;;0CAC/B,8OAAC;gCACC,MAAM,IAAI,GAAG;gCACb,QAAO;gCACP,KAAI;gCACJ,WAAU;0CAET,IAAI,IAAI;;;;;;0CAEX,8OAAC;gCAAK,WAAU;0CAA0B,IAAI,KAAK;;;;;;;uBAZ9C,IAAI,EAAE;;;;;;;;;;;;;;;;AAoB3B"}},
    {"offset": {"line": 1067, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/Documents/iminabo_stuff/code/gravenger/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useProblems, useTopics, useTeam } from \"@/lib/hooks\";\nimport type { TopicStats } from \"@/lib/types\";\nimport { StatBox } from \"@/components/stat-box\";\nimport { TopicCard } from \"@/components/topic-card\";\nimport { RecommendationsWidget } from \"@/components/recommendations-widget\";\n\nexport default function Dashboard() {\n  const { problems, loading: pLoading } = useProblems();\n  const { topics, loading: tLoading } = useTopics();\n  const { members, loading: mLoading } = useTeam();\n  const router = useRouter();\n\n  const loading = pLoading || tLoading || mLoading;\n\n  // Union of all members' solved problems\n  const allSolved = useMemo(() => {\n    const set = new Set<string>();\n    for (const m of members) {\n      for (const id of m.solved_curated) {\n        set.add(id);\n      }\n    }\n    return set;\n  }, [members]);\n\n  // Per-topic stats\n  const topicStats = useMemo(() => {\n    const stats: Record<string, TopicStats> = {};\n    if (!topics) return stats;\n    for (const key of Object.keys(topics.topics)) {\n      stats[key] = { total: 0, solved: 0 };\n    }\n    for (const p of problems) {\n      if (stats[p.topic]) {\n        stats[p.topic].total++;\n        if (allSolved.has(p.id)) {\n          stats[p.topic].solved++;\n        }\n      }\n    }\n    return stats;\n  }, [problems, topics, allSolved]);\n\n  const totalProblems = problems.length;\n  const totalSolved = allSolved.size;\n  const topicsCompleted = topics\n    ? Object.keys(topics.topics).filter((k) => {\n        const s = topicStats[k];\n        return s && s.total > 0 && s.solved === s.total;\n      }).length\n    : 0;\n  const pct =\n    totalProblems > 0 ? Math.round((totalSolved / totalProblems) * 100) : 0;\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-[60vh] items-center justify-center text-muted\">\n        <span className=\"pulse-slow\">Loading...</span>\n      </div>\n    );\n  }\n\n  if (!topics) return null;\n\n  // Group topics by tier\n  const topicsByTier: { key: string; tier: number }[][] = [];\n  for (const [key, topic] of Object.entries(topics.topics)) {\n    while (topicsByTier.length <= topic.tier) topicsByTier.push([]);\n    topicsByTier[topic.tier].push({ key, tier: topic.tier });\n  }\n\n  return (\n    <div className=\"fade-in space-y-8\">\n      <div>\n        <h1 className=\"font-heading text-2xl font-bold\">Dashboard</h1>\n        <p className=\"mt-1 text-sm text-muted\">\n          {members.length} members &middot; {totalProblems} curated problems\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-4\">\n        <StatBox value={totalSolved} label=\"Problems Solved\" />\n        <StatBox\n          value={topicsCompleted}\n          label=\"Topics Completed\"\n          color=\"#3b82f6\"\n        />\n        <StatBox value={members.length} label=\"Team Members\" color=\"#a855f7\" />\n        <StatBox value={`${pct}%`} label=\"Overall Progress\" color=\"#f59e0b\" />\n      </div>\n\n      <RecommendationsWidget members={members} />\n\n      {topicsByTier.map((tier, tierIdx) => (\n        <div key={tierIdx}>\n          <div className=\"mb-3 flex items-center gap-2\">\n            <span\n              className=\"text-[11px] font-semibold uppercase\"\n              style={{ color: topics.tier_colors[tierIdx] }}\n            >\n              Tier {tierIdx}: {topics.tier_labels[tierIdx]}\n            </span>\n            <div\n              className=\"h-px flex-1\"\n              style={{ background: topics.tier_colors[tierIdx] + \"30\" }}\n            />\n          </div>\n          <div className=\"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4\">\n            {tier.map(({ key }) => (\n              <TopicCard\n                key={key}\n                topicKey={key}\n                topic={topics.topics[key]}\n                stats={topicStats[key] || { total: 0, solved: 0 }}\n                tierColor={topics.tier_colors[tierIdx]}\n                tierBg={topics.tier_bg[tierIdx]}\n                tierLabel={topics.tier_labels[tierIdx]}\n                onClick={() => router.push(`/problems?topic=${key}`)}\n              />\n            ))}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AARA;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,QAAQ,EAAE,SAAS,QAAQ,EAAE,GAAG,IAAA,2HAAW;IACnD,MAAM,EAAE,MAAM,EAAE,SAAS,QAAQ,EAAE,GAAG,IAAA,yHAAS;IAC/C,MAAM,EAAE,OAAO,EAAE,SAAS,QAAQ,EAAE,GAAG,IAAA,uHAAO;IAC9C,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,UAAU,YAAY,YAAY;IAExC,wCAAwC;IACxC,MAAM,YAAY,IAAA,gNAAO,EAAC;QACxB,MAAM,MAAM,IAAI;QAChB,KAAK,MAAM,KAAK,QAAS;YACvB,KAAK,MAAM,MAAM,EAAE,cAAc,CAAE;gBACjC,IAAI,GAAG,CAAC;YACV;QACF;QACA,OAAO;IACT,GAAG;QAAC;KAAQ;IAEZ,kBAAkB;IAClB,MAAM,aAAa,IAAA,gNAAO,EAAC;QACzB,MAAM,QAAoC,CAAC;QAC3C,IAAI,CAAC,QAAQ,OAAO;QACpB,KAAK,MAAM,OAAO,OAAO,IAAI,CAAC,OAAO,MAAM,EAAG;YAC5C,KAAK,CAAC,IAAI,GAAG;gBAAE,OAAO;gBAAG,QAAQ;YAAE;QACrC;QACA,KAAK,MAAM,KAAK,SAAU;YACxB,IAAI,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE;gBAClB,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK;gBACpB,IAAI,UAAU,GAAG,CAAC,EAAE,EAAE,GAAG;oBACvB,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC,MAAM;gBACvB;YACF;QACF;QACA,OAAO;IACT,GAAG;QAAC;QAAU;QAAQ;KAAU;IAEhC,MAAM,gBAAgB,SAAS,MAAM;IACrC,MAAM,cAAc,UAAU,IAAI;IAClC,MAAM,kBAAkB,SACpB,OAAO,IAAI,CAAC,OAAO,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,MAAM,IAAI,UAAU,CAAC,EAAE;QACvB,OAAO,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,MAAM,KAAK,EAAE,KAAK;IACjD,GAAG,MAAM,GACT;IACJ,MAAM,MACJ,gBAAgB,IAAI,KAAK,KAAK,CAAC,AAAC,cAAc,gBAAiB,OAAO;IAExE,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAK,WAAU;0BAAa;;;;;;;;;;;IAGnC;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,uBAAuB;IACvB,MAAM,eAAkD,EAAE;IAC1D,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,OAAO,MAAM,EAAG;QACxD,MAAO,aAAa,MAAM,IAAI,MAAM,IAAI,CAAE,aAAa,IAAI,CAAC,EAAE;QAC9D,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC;YAAE;YAAK,MAAM,MAAM,IAAI;QAAC;IACxD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAkC;;;;;;kCAChD,8OAAC;wBAAE,WAAU;;4BACV,QAAQ,MAAM;4BAAC;4BAAmB;4BAAc;;;;;;;;;;;;;0BAIrD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,qIAAO;wBAAC,OAAO;wBAAa,OAAM;;;;;;kCACnC,8OAAC,qIAAO;wBACN,OAAO;wBACP,OAAM;wBACN,OAAM;;;;;;kCAER,8OAAC,qIAAO;wBAAC,OAAO,QAAQ,MAAM;wBAAE,OAAM;wBAAe,OAAM;;;;;;kCAC3D,8OAAC,qIAAO;wBAAC,OAAO,GAAG,IAAI,CAAC,CAAC;wBAAE,OAAM;wBAAmB,OAAM;;;;;;;;;;;;0BAG5D,8OAAC,iKAAqB;gBAAC,SAAS;;;;;;YAE/B,aAAa,GAAG,CAAC,CAAC,MAAM,wBACvB,8OAAC;;sCACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,OAAO,OAAO,WAAW,CAAC,QAAQ;oCAAC;;wCAC7C;wCACO;wCAAQ;wCAAG,OAAO,WAAW,CAAC,QAAQ;;;;;;;8CAE9C,8OAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,YAAY,OAAO,WAAW,CAAC,QAAQ,GAAG;oCAAK;;;;;;;;;;;;sCAG5D,8OAAC;4BAAI,WAAU;sCACZ,KAAK,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,iBAChB,8OAAC,yIAAS;oCAER,UAAU;oCACV,OAAO,OAAO,MAAM,CAAC,IAAI;oCACzB,OAAO,UAAU,CAAC,IAAI,IAAI;wCAAE,OAAO;wCAAG,QAAQ;oCAAE;oCAChD,WAAW,OAAO,WAAW,CAAC,QAAQ;oCACtC,QAAQ,OAAO,OAAO,CAAC,QAAQ;oCAC/B,WAAW,OAAO,WAAW,CAAC,QAAQ;oCACtC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,KAAK;mCAP9C;;;;;;;;;;;mBAhBH;;;;;;;;;;;AA+BlB"}}]
}